\doxysection{Communication Overview}
\hypertarget{communication_overview}{}\label{communication_overview}\index{Communication Overview@{Communication Overview}}
Communication chain and Profinet PD synchronization timing for IPOS system.

\DoxyHorRuler{0}
\hypertarget{communication_overview_autotoc_md8}{}\doxysubsection{\texorpdfstring{Communication Overview}{Communication Overview}}\label{communication_overview_autotoc_md8}
The IPOS control architecture integrates the {\bfseries{Profinet PLC}}, the {\bfseries{Anybus M40 module}}, ~\newline
 and the {\bfseries{STM32\+F4 housekeeping controller}}, which drives the {\bfseries{Raylase SP-\/\+ICE-\/3 laser controller}} via local I/O.

\DoxyHorRuler{0}
\hypertarget{communication_overview_autotoc_md10}{}\doxysubsubsubsection{\texorpdfstring{Figure 1 — Communication Topology}{Figure 1 — Communication Topology}}\label{communication_overview_autotoc_md10}

\begin{DoxyImageNoCaption}
  \mbox{\includegraphics[width=\textwidth,height=\textheight/2,keepaspectratio=true]{dot_inline_dotgraph_1}}
\end{DoxyImageNoCaption}


{\itshape Figure 1 — Physical and logical data paths between the PLC, Anybus M40, STM32 controller, and SP-\/\+ICE-\/3 board.}

\DoxyHorRuler{0}
\hypertarget{communication_overview_autotoc_md12}{}\doxysubsubsection{\texorpdfstring{3.\+2 Data Exchange Timing}{3.\+2 Data Exchange Timing}}\label{communication_overview_autotoc_md12}
The cyclic data exchange process consists of {\bfseries{two Profinet phases (PD-\/\+Write / PD-\/\+Read)}} bridged by the M40, with UART transfers to the STM32 in between.

\DoxyHorRuler{0}
\hypertarget{communication_overview_autotoc_md14}{}\doxysubsubsubsection{\texorpdfstring{Figure 2 — PD-\/\+Write / UART / PD-\/\+Read Timing Sequence}{Figure 2 — PD-\/\+Write / UART / PD-\/\+Read Timing Sequence}}\label{communication_overview_autotoc_md14}

\begin{DoxyImageNoCaption}
  \mbox{\includegraphics[width=\textwidth,height=\textheight/2,keepaspectratio=true]{dot_inline_dotgraph_2}}
\end{DoxyImageNoCaption}


{\itshape Figure 2 — Typical cyclic data sequence through the M40 bridge.}

\DoxyHorRuler{0}
\hypertarget{communication_overview_autotoc_md16}{}\doxysubsubsection{\texorpdfstring{3.\+3 PD Cycle Synchronization}{3.\+3 PD Cycle Synchronization}}\label{communication_overview_autotoc_md16}
The Profinet controller periodically triggers a {\bfseries{PD cycle interrupt}} within the M40. ~\newline
 Each cycle drives one UART exchange, ensuring consistent latency between fieldbus updates and embedded processing.

\DoxyHorRuler{0}
\hypertarget{communication_overview_autotoc_md18}{}\doxysubsubsubsection{\texorpdfstring{Figure 3 — PD Cycle Clock and Synchronization}{Figure 3 — PD Cycle Clock and Synchronization}}\label{communication_overview_autotoc_md18}

\begin{DoxyImageNoCaption}
  \mbox{\includegraphics[width=\textwidth,height=\textheight/2,keepaspectratio=true]{dot_inline_dotgraph_3}}
\end{DoxyImageNoCaption}


{\itshape Figure 3 — Synchronization of the Profinet cycle with UART and local I/O processing.}

\DoxyHorRuler{0}
\hypertarget{communication_overview_autotoc_md20}{}\doxysubsubsubsection{\texorpdfstring{3.\+4 Timing Summary}{3.\+4 Timing Summary}}\label{communication_overview_autotoc_md20}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ {\bfseries{Stage}}   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ {\bfseries{Typical Rate}}   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ {\bfseries{Description}}    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ {\bfseries{Stage}}   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ {\bfseries{Typical Rate}}   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ {\bfseries{Description}}    }\\\cline{1-3}
\endhead
{\bfseries{Profinet PD Cycle}}   &1–10 ms   &PLC updates PD-\/\+Write / PD-\/\+Read data    \\\cline{1-3}
{\bfseries{M40 UART Exchange}}   &\texorpdfstring{$\sim$}{\string~}2 ms   &M40 ↔ STM32 full-\/duplex transaction    \\\cline{1-3}
{\bfseries{STM32 Local Loop}}   &500 µs – 2 ms   &Safety checks, relay outputs, temperature updates    \\\cline{1-3}
{\bfseries{Total Latency (PLC ↔ IO)}}   &\texorpdfstring{$<$}{<} 10 ms   &End-\/to-\/end data turnaround to SP-\/\+ICE-\/3   \\\cline{1-3}
\end{longtabu}


\DoxyHorRuler{0}


{\itshape End of Section 3 — Communication and Timing Overview}\hypertarget{communication_overview_autotoc_md22}{}\doxysubsubsubsection{\texorpdfstring{Timing Summary}{Timing Summary}}\label{communication_overview_autotoc_md22}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Phase   }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }&\cellcolor{\tableheadbgcolor}\textbf{ Direction    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Phase   }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }&\cellcolor{\tableheadbgcolor}\textbf{ Direction    }\\\cline{1-3}
\endhead
{\bfseries{PD-\/\+Write}}   &PLC sends cyclic data (PORTB, PORTC, STATUS\+\_\+\+PLC)   &PLC → M40 → STM32    \\\cline{1-3}
{\bfseries{UART Sync}}   &M40 sends/receives variable updates over UART3   &Bidirectional    \\\cline{1-3}
{\bfseries{PD-\/\+Read}}   &STM32 sends feedback and diagnostic data   &STM32 → M40 → PLC   \\\cline{1-3}
\end{longtabu}


\DoxyHorRuler{0}
 